"use strict";const formTask=document.getElementById("formTask"),tasksList=document.getElementById("tasksList");let tasksLists=[];const validateFields=e=>{for(const t in e)if(e.hasOwnProperty(t)){const o=e[t];if(""===o||void 0===o)return!1}return!0},showMsg=(e,t)=>{const o=document.getElementById(e);o.textContent=t,setTimeout(()=>{o.textContent="Tareas"},2500)},colors={red:formTask.red,yellow:formTask.yellow,green:formTask.green},isColorChecked=()=>{for(const e in colors)if(colors.hasOwnProperty(e)){const t=colors[e];if(t.checked)return{bool:!0,color:t.id}}return!1},assignBgColor=()=>{const e=isColorChecked();e.bool?console.log(e.color):console.log("Se debe asignar un color de fondo")},validateDate=e=>{const t=new Date;return new Date(e)-t>=0},setIdTask=()=>{const e=getCurrentTime();return`${e.year}${e.month}${e.date}${e.hours}${e.minutes}${e.seconds}`},getCurrentTime=()=>{let e=new Date;return{year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate(),hours:("0"+e.getHours()).slice(-2),minutes:("0"+e.getMinutes()).slice(-2),seconds:("0"+e.getSeconds()).slice(-2)}},getRemainTime=e=>{let t=new Date,o=(new Date(e)-t+1e3)/1e3;return{remainTime:o,seconds:("0"+Math.floor(o%60)).slice(-2),minutes:("0"+Math.floor(o/60%60)).slice(-2),hours:("0"+Math.floor(o/3600%24)).slice(-2),days:Math.floor(o/86400)}},countDown=(e,t)=>{const o=setInterval(()=>{let s=getRemainTime(e);t.textContent=`Quedan: ${s.days}d ${s.hours}h ${s.minutes}m ${s.seconds}s`,s.remainTime<=1&&clearInterval(o)},1e3)};formTask.addEventListener("submit",e=>{e.preventDefault();const t={id:setIdTask(),name:formTask.inputTask.value.trim(),bgColor:isColorChecked().color,date:formTask.inputDate.value};validateFields(t)?validateDate(t.date)?setItemLocalStorage(t):showMsg("msg","La fecha debe ser posterior a hoy"):showMsg("msg","Completa todos los campos")}),button.addEventListener("mousedown",()=>{button.classList.add("scale-down"),button.addEventListener("mouseup",()=>{button.classList.remove("scale-down")})});